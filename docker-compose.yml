version: '3.8'

services:
  hh-watcher:
    build: .
    container_name: hh-watcher
    volumes:
      # –ú–æ–Ω—Ç–∏—Ä—É–µ–º –ø–∞–ø–∫—É —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
      - ./data:/app/data
      - ./report_oct5:/app/report_oct5
      - ./report_dynamics:/app/report_dynamics
      - ./report_automated:/app/report_automated
    environment:
      - PYTHONUNBUFFERED=1
      - TZ=Asia/Vladivostok
    # –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á
    command: >
      sh -c "
        echo 'üöÄ –ó–∞–ø—É—Å–∫ HH_Watcher...' &&
        python sales_parser.py &&
        python zakup_parser.py &&
        python vacancy_analysis_oct5.py &&
        python vacancy_dynamics_comparison.py &&
        python create_automated_report.py &&
        echo '‚úÖ –í—Å–µ –æ—Ç—á—ë—Ç—ã —Å–æ–∑–¥–∞–Ω—ã!'
      "
    
  # –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ç–æ–ª—å–∫–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
  hh-parser:
    build: .
    container_name: hh-parser
    volumes:
      - ./data:/app/data
    environment:
      - PYTHONUNBUFFERED=1
      - TZ=Asia/Vladivostok
    command: >
      sh -c "
        echo 'üìä –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö...' &&
        python sales_parser.py &&
        python zakup_parser.py &&
        echo '‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à—ë–Ω!'
      "
    
  # –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ç–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑–∞
  hh-analyzer:
    build: .
    container_name: hh-analyzer
    volumes:
      - ./data:/app/data
      - ./report_oct5:/app/report_oct5
      - ./report_dynamics:/app/report_dynamics
      - ./report_automated:/app/report_automated
    environment:
      - PYTHONUNBUFFERED=1
      - TZ=Asia/Vladivostok
    command: >
      sh -c "
        echo 'üìà –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö...' &&
        python vacancy_analysis_oct5.py &&
        python vacancy_dynamics_comparison.py &&
        python create_automated_report.py &&
        echo '‚úÖ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω!'
      "

